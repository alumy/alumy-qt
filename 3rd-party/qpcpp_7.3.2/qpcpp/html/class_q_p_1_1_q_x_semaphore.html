<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QP/C++: QP::QXSemaphore Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="ql-preview.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="ql-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.png"/></a>
  </div>
   <div id="projectname">
    QP/C++
    &nbsp;<span id="projectnumber">7.3.2</span>
   </div>
   <div id="projectbrief">Real-Time Embedded Framework</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_q_p_1_1_q_x_semaphore.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_q_p_1_1_q_x_semaphore-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">QP::QXSemaphore Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Counting Semaphore of the <a class="el" href="namespace_q_p_1_1_q_x_k.html" title="preemptive, dual-mode (non-blocking / blocking) kernel">QXK</a> preemptive kernel.
 <a href="class_q_p_1_1_q_x_semaphore.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="qxk_8hpp_source.html">qxk.hpp</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1fd5f39c2a94fbd0eeb8d1da46302240"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_1_1_q_x_semaphore.html#a1fd5f39c2a94fbd0eeb8d1da46302240">init</a> (std::uint_fast8_t const count, std::uint_fast8_t const max_count=0xFFU) noexcept</td></tr>
<tr class="separator:a1fd5f39c2a94fbd0eeb8d1da46302240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af48d4d84a0d3e01e588910c2a8974cca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_1_1_q_x_semaphore.html#af48d4d84a0d3e01e588910c2a8974cca">wait</a> (<a class="el" href="namespace_q_p.html#a5d493cb08b48a4f2b0fecd667bb8b068">QTimeEvtCtr</a> const nTicks=<a class="el" href="namespace_q_p.html#ab3721c50d7696a98449081e559cd60c6">QXTHREAD_NO_TIMEOUT</a>) noexcept</td></tr>
<tr class="separator:af48d4d84a0d3e01e588910c2a8974cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45d5f565b68856e2850c3d5cc9a0cb9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_1_1_q_x_semaphore.html#ad45d5f565b68856e2850c3d5cc9a0cb9">tryWait</a> () noexcept</td></tr>
<tr class="separator:ad45d5f565b68856e2850c3d5cc9a0cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8562f5d873c4b727caf3701c9e09cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_1_1_q_x_semaphore.html#a4d8562f5d873c4b727caf3701c9e09cb">signal</a> () noexcept</td></tr>
<tr class="separator:a4d8562f5d873c4b727caf3701c9e09cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7963b7edf8246eccaedbf320b80c3c84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_q_p_1_1_q_p_set.html">QPSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_1_1_q_x_semaphore.html#a7963b7edf8246eccaedbf320b80c3c84">m_waitSet</a></td></tr>
<tr class="separator:a7963b7edf8246eccaedbf320b80c3c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac671ef9512fc7a67fd558b99ef9b6535"><td class="memItemLeft" align="right" valign="top">std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_1_1_q_x_semaphore.html#ac671ef9512fc7a67fd558b99ef9b6535">m_count</a></td></tr>
<tr class="separator:ac671ef9512fc7a67fd558b99ef9b6535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4203c0347186b28e6d8d5dc46572eab"><td class="memItemLeft" align="right" valign="top">std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_1_1_q_x_semaphore.html#ae4203c0347186b28e6d8d5dc46572eab">m_max_count</a></td></tr>
<tr class="separator:ae4203c0347186b28e6d8d5dc46572eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Counting Semaphore of the <a class="el" href="namespace_q_p_1_1_q_x_k.html" title="preemptive, dual-mode (non-blocking / blocking) kernel">QXK</a> preemptive kernel. </p>
<dl class="section user"><dt>Description</dt><dd><a class="el" href="class_q_p_1_1_q_x_semaphore.html" title="Counting Semaphore of the QXK preemptive kernel.">QP::QXSemaphore</a> is a blocking mechanism intended primarily for signaling <a class="el" href="class_q_p_1_1_q_x_thread.html">extended threads</a>. The semaphore is initialized with the maximum count (see <a class="el" href="class_q_p_1_1_q_x_semaphore.html#a1fd5f39c2a94fbd0eeb8d1da46302240">QXSemaphore::init()</a>), which allows you to create a binary semaphore (when the maximum count is 1) and counting semaphore when the maximum count is &gt; 1.</dd></dl>
<dl class="section user"><dt>Usage</dt><dd>The following example illustrates how to instantiate and use the semaphore in your application. <div class="fragment"><div class="line"><a class="code hl_class" href="class_q_p_1_1_q_x_semaphore.html">QP::QXSemaphore</a> TH_sema; <span class="comment">// &lt;===</span></div>
<div class="line">. . .</div>
<div class="line">void XThread2::run(<a class="code hl_class" href="class_q_p_1_1_q_x_thread.html">QP::QXThread</a> * <span class="keyword">const</span> thr) {</div>
<div class="line">    TH_sema.<a class="code hl_function" href="class_q_p_1_1_q_x_semaphore.html#a1fd5f39c2a94fbd0eeb8d1da46302240">init</a>(0U,  <span class="comment">// count==0 (signaling semaphore)</span></div>
<div class="line">                1U); <span class="comment">// max_count==1 (binary semaphore)</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        <span class="comment">// wait on a semaphore (BLOCK indefinitely)</span></div>
<div class="line">        TH_sema.<a class="code hl_function" href="class_q_p_1_1_q_x_semaphore.html#af48d4d84a0d3e01e588910c2a8974cca">wait</a>();</div>
<div class="line">        . . .</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_q_p_1_1_q_x_semaphore_html"><div class="ttname"><a href="class_q_p_1_1_q_x_semaphore.html">QP::QXSemaphore</a></div><div class="ttdoc">Counting Semaphore of the QXK preemptive kernel.</div><div class="ttdef"><b>Definition</b> <a href="qxk_8hpp_source.html#l00142">qxk.hpp:142</a></div></div>
<div class="ttc" id="aclass_q_p_1_1_q_x_semaphore_html_a1fd5f39c2a94fbd0eeb8d1da46302240"><div class="ttname"><a href="class_q_p_1_1_q_x_semaphore.html#a1fd5f39c2a94fbd0eeb8d1da46302240">QP::QXSemaphore::init</a></div><div class="ttdeci">void init(std::uint_fast8_t const count, std::uint_fast8_t const max_count=0xFFU) noexcept</div><div class="ttdef"><b>Definition</b> <a href="qxk__sema_8cpp_source.html#l00077">qxk_sema.cpp:77</a></div></div>
<div class="ttc" id="aclass_q_p_1_1_q_x_semaphore_html_af48d4d84a0d3e01e588910c2a8974cca"><div class="ttname"><a href="class_q_p_1_1_q_x_semaphore.html#af48d4d84a0d3e01e588910c2a8974cca">QP::QXSemaphore::wait</a></div><div class="ttdeci">bool wait(QTimeEvtCtr const nTicks=QXTHREAD_NO_TIMEOUT) noexcept</div><div class="ttdef"><b>Definition</b> <a href="qxk__sema_8cpp_source.html#l00097">qxk_sema.cpp:97</a></div></div>
<div class="ttc" id="aclass_q_p_1_1_q_x_thread_html"><div class="ttname"><a href="class_q_p_1_1_q_x_thread.html">QP::QXThread</a></div><div class="ttdoc">eXtended (blocking) thread of the QXK preemptive kernel</div><div class="ttdef"><b>Definition</b> <a href="qxk_8hpp_source.html#l00088">qxk.hpp:88</a></div></div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qxk_8hpp_source.html#l00142">142</a> of file <a class="el" href="qxk_8hpp_source.html">qxk.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1fd5f39c2a94fbd0eeb8d1da46302240" name="a1fd5f39c2a94fbd0eeb8d1da46302240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fd5f39c2a94fbd0eeb8d1da46302240">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QP::QXSemaphore::init </td>
          <td>(</td>
          <td class="paramtype">std::uint_fast8_t const&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint_fast8_t const&#160;</td>
          <td class="paramname"><em>max_count</em> = <code>0xFFU</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize the counting semaphore</p>
<dl class="section user"><dt>Description</dt><dd>Initializes a semaphore with the specified count and maximum count. If the semaphore is used for resource sharing, both the initial count and maximum count should be set to the number of identical resources guarded by the semaphore. If the semaphore is used as a signaling mechanism, the initial count should set to 0 and maximum count to 1 (binary semaphore).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>initial value of the semaphore counter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_count</td><td>maximum value of the semaphore counter. The purpose of the max_count is to limit the counter so that the semaphore cannot unblock more times than the maximum.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Precondition <code>qxk_sema:100</code></dt><dd><ul>
<li>count must not exceed max_count</li>
<li>max_count must not be zero</li>
<li>max_count must not exceed 0xFFU (dynamic range of uint8_t)</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="class_q_p_1_1_q_x_semaphore.html#a1fd5f39c2a94fbd0eeb8d1da46302240">QXSemaphore::init()</a> must be called <b>before</b> the semaphore can be used (signaled or waited on).</dd></dl>
<dl class="section user"><dt>Usage</dt><dd>The following example illustrates how to instantiate and use the semaphore in your application. <div class="fragment"><div class="line"><a class="code hl_class" href="class_q_p_1_1_q_x_semaphore.html">QP::QXSemaphore</a> TH_sema;</div>
<div class="line">. . .</div>
<div class="line">void XThread2::run(<a class="code hl_class" href="class_q_p_1_1_q_x_thread.html">QP::QXThread</a> * <span class="keyword">const</span> thr) {</div>
<div class="line">    TH_sema.<a class="code hl_function" href="class_q_p_1_1_q_x_semaphore.html#a1fd5f39c2a94fbd0eeb8d1da46302240">init</a>(0U,  <span class="comment">// count==0 (signaling semaphore)  // &lt;===</span></div>
<div class="line">                1U); <span class="comment">// max_count==1 (binary semaphore)</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        <span class="comment">// wait on a semaphore (BLOCK indefinitely)</span></div>
<div class="line">        TH_sema.<a class="code hl_function" href="class_q_p_1_1_q_x_semaphore.html#af48d4d84a0d3e01e588910c2a8974cca">wait</a>();</div>
<div class="line">        . . .</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="line">*/</div>
<div class="line"><span class="comment">//----------------------------------------------------------------------------</span><span class="comment"></span></div>
<div class="line"><span class="comment">/*! @property QP::QXSemaphore::wait(std::uint_fast16_t const nTicks)</span></div>
<div class="line"><span class="comment">Wait (block) on the semaphore</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">@description</span></div>
<div class="line"><span class="comment">When an extended thread calls QXSemaphore::wait() and the value of the semaphore counter is greater than 0, QXSemaphore::wait() decrements the semaphore counter and returns (true) to its caller. However, if the value of the semaphore counter is 0, the function places the calling thread in the waiting list for the semaphore. The thread waits until the semaphore is signaled by calling QXSemaphore_signal(), or the specified timeout expires. If the semaphore is signaled before the timeout expires, QXK resumes the highest-priority extended thread waiting for the semaphore.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">@param[in] nTicks   number of clock ticks (at the associated rate) to wait for the semaphore. The value of ::QXTHREAD_NO_TIMEOUT indicates that no timeout will occur and the semaphore will wait indefinitely.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">@returns</span></div>
<div class="line"><span class="comment">&#39;true&#39; if the semaphore has been taken and &#39;false&#39; if a timeout occurred.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">@precondition{qxk_sema,200}</span></div>
<div class="line"><span class="comment">- must NOT be called from an ISR;</span></div>
<div class="line"><span class="comment">- the semaphore must be initialized</span></div>
<div class="line"><span class="comment">- be called from an extended thread;</span></div>
<div class="line"><span class="comment">- the thread must NOT be already blocked on any object.</span></div>
<div class="line"><span class="comment">@precondition{qxk_sema,201}</span></div>
<div class="line"><span class="comment">- the thread must NOT be holding a scheduler lock.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">@note</span></div>
<div class="line"><span class="comment">Multiple extended threads can wait for a given semaphore.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">@usage</span></div>
<div class="line"><span class="comment">The following example illustrates how to instantiate and use the semaphore in your application.</span></div>
<div class="line"><span class="comment">@code{cpp}</span></div>
<div class="line"><span class="comment">QP::QXSemaphore TH_sema;</span></div>
<div class="line"><span class="comment">. . .</span></div>
<div class="line"><span class="comment">void XThread2::run(QP::QXThread * const thr) {</span></div>
<div class="line"><span class="comment">    TH_sema.init(0U,  // count==0 (signaling semaphore)</span></div>
<div class="line"><span class="comment">                1U); // max_count==1 (binary semaphore)</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    for (;;) {</span></div>
<div class="line"><span class="comment">        // wait on a semaphore (BLOCK indefinitely)</span></div>
<div class="line"><span class="comment">        TH_sema.wait(); // &lt;===</span></div>
<div class="line"><span class="comment">        . . .</span></div>
<div class="line"><span class="comment">   }</span></div>
<div class="line"><span class="comment">}</span></div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qxk__sema_8cpp_source.html#l00077">77</a> of file <a class="el" href="qxk__sema_8cpp_source.html">qxk_sema.cpp</a>.</p>

</div>
</div>
<a id="af48d4d84a0d3e01e588910c2a8974cca" name="af48d4d84a0d3e01e588910c2a8974cca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af48d4d84a0d3e01e588910c2a8974cca">&#9670;&#160;</a></span>wait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QP::QXSemaphore::wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_q_p.html#a5d493cb08b48a4f2b0fecd667bb8b068">QTimeEvtCtr</a> const&#160;</td>
          <td class="paramname"><em>nTicks</em> = <code><a class="el" href="namespace_q_p.html#ab3721c50d7696a98449081e559cd60c6">QXTHREAD_NO_TIMEOUT</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qxk__sema_8cpp_source.html#l00097">97</a> of file <a class="el" href="qxk__sema_8cpp_source.html">qxk_sema.cpp</a>.</p>

</div>
</div>
<a id="ad45d5f565b68856e2850c3d5cc9a0cb9" name="ad45d5f565b68856e2850c3d5cc9a0cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad45d5f565b68856e2850c3d5cc9a0cb9">&#9670;&#160;</a></span>tryWait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QP::QXSemaphore::tryWait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Try wait on the semaphore (non-blocking)</p>
<dl class="section user"><dt>Description</dt><dd>This function checks if the semaphore counter is greater than 0, in which case the counter is decremented.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>'true' if the semaphore was taken and 'false' if not taken (would BLOCK).</dd></dl>
<dl class="section user"><dt>Precondition <code>qxk_sema:300</code></dt><dd><ul>
<li>the semaphore must be initialized</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function can be called from any context, including ISRs and basic threads (active objects). </dd></dl>

<p class="definition">Definition at line <a class="el" href="qxk__sema_8cpp_source.html#l00181">181</a> of file <a class="el" href="qxk__sema_8cpp_source.html">qxk_sema.cpp</a>.</p>

</div>
</div>
<a id="a4d8562f5d873c4b727caf3701c9e09cb" name="a4d8562f5d873c4b727caf3701c9e09cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d8562f5d873c4b727caf3701c9e09cb">&#9670;&#160;</a></span>signal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QP::QXSemaphore::signal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Signal (unblock) the semaphore</p>
<dl class="section user"><dt>Description</dt><dd>If the semaphore counter value is 0 or more, it is incremented, and this function returns to its caller. If the extended threads are waiting for the semaphore to be signaled, QXSemaphore_signal() removes the highest-priority thread waiting for the semaphore from the waiting list and makes this thread ready-to-run. The <a class="el" href="namespace_q_p_1_1_q_x_k.html" title="preemptive, dual-mode (non-blocking / blocking) kernel">QXK</a> scheduler is then called to determine if the awakened thread is now the highest-priority thread that is ready-to-run.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me</td><td>current instance pointer (see oop)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'true' when the semaphore signaled and 'false' when the semaphore count exceeded the maximum.</dd></dl>
<dl class="section user"><dt>Precondition <code>qxk_sema:400</code></dt><dd><ul>
<li>the semaphore must be initialized</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>A semaphore can be signaled from many places, including from ISRs, basic threads (AOs), and extended threads. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qxk__sema_8cpp_source.html#l00222">222</a> of file <a class="el" href="qxk__sema_8cpp_source.html">qxk_sema.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7963b7edf8246eccaedbf320b80c3c84" name="a7963b7edf8246eccaedbf320b80c3c84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7963b7edf8246eccaedbf320b80c3c84">&#9670;&#160;</a></span>m_waitSet</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QXSemaphore::m_waitSet</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set of extended threads waiting on this semaphore </p>

<p class="definition">Definition at line <a class="el" href="qxk_8hpp_source.html#l00144">144</a> of file <a class="el" href="qxk_8hpp_source.html">qxk.hpp</a>.</p>

</div>
</div>
<a id="ac671ef9512fc7a67fd558b99ef9b6535" name="ac671ef9512fc7a67fd558b99ef9b6535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac671ef9512fc7a67fd558b99ef9b6535">&#9670;&#160;</a></span>m_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QXSemaphore::m_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Semaphore up-down counter </p>

<p class="definition">Definition at line <a class="el" href="qxk_8hpp_source.html#l00145">145</a> of file <a class="el" href="qxk_8hpp_source.html">qxk.hpp</a>.</p>

</div>
</div>
<a id="ae4203c0347186b28e6d8d5dc46572eab" name="ae4203c0347186b28e6d8d5dc46572eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4203c0347186b28e6d8d5dc46572eab">&#9670;&#160;</a></span>m_max_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QXSemaphore::m_max_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum value of the semaphore counter (e.g., 1 for binary semaphore) </p>

<p class="definition">Definition at line <a class="el" href="qxk_8hpp_source.html#l00146">146</a> of file <a class="el" href="qxk_8hpp_source.html">qxk.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="qxk_8hpp_source.html">qxk.hpp</a></li>
<li><a class="el" href="qxk__sema_8cpp_source.html">qxk_sema.cpp</a></li>
<li><a class="el" href="_d_o_c-_q_p_c_p_p-_m_a_n_2qxk_8dox.html">DOC-QPCPP-MAN/qxk.dox</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_q_p.html">QP</a></li><li class="navelem"><a class="el" href="class_q_p_1_1_q_x_semaphore.html">QXSemaphore</a></li>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2023 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QP/C++ 7.3.2</b> &nbsp;|&nbsp; Updated on Thu Dec 14 2023
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2023 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QP/C++ 7.3.2</b> &nbsp;|&nbsp; Updated on Thu Dec 14 2023
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
